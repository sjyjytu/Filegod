{"version":3,"sources":["agent.js","Components/Home/index.js","Components/AddLink.js","Components/AddFile.js","App.js","middleware.js","reducers/contents.js","store.js","theme.js","index.js"],"names":["requests","require","API_ROOT","agent","upload","title","author","file","description","post","attach","field","then","res","body","download","file_id","get","query","link","send","show","Books","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleDownload","bind","assertThisInitialized","window","open","concat","onLoad","_this2","_this$props","classes","books","console","log","contents","react_default","a","createElement","Fragment","Link","to","index_es","reverse","map","content","expandIcon","ExpandMore_default","onClick","href","React","Component","connect","state","dispatch","type","payload","withStyles","theme","AddLink","updateState","event","setState","defineProperty","target","value","handleSubmit","preventDefault","onSave","nextProps","redirectTo","history","push","onRedirect","className","root","onSubmit","info","label","onChange","variant","saveClass","cancel","intro","multiline","rows","width","marginLeft","marginTop","spacing","unit","imageButton","backgroundColor","palette","primary","light","image","previewButton","hidden","display","preview","marginBottom","float","AddFile","uploading","handleImageChange","files","imagePicker","click","ref","save","disabled","App","BrowserRouter","style","minHeight","Route","exact","path","component","Home","promiseMiddleware","store","next","action","v","defaultState","arguments","length","undefined","objectSpread","reducer","combineReducers","enhancer","applyMiddleware","createStore","createMuiTheme","purple","main","dark","secondary","lime","lightGreen","error","red","typography","fontFamily","ReactDOM","render","es","styles","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4ce4c973.chunk.js","sourcesContent":["const requests = require('superagent');\r\n\r\nconst API_ROOT = 'http://47.103.0.246:12580';\r\n\r\nconst Files = {\r\n    upload: (title, author, file, description) =>\r\n        requests.post(API_ROOT + '/files/upload')\r\n            .attach('file', file)\r\n            .field('title', title)\r\n            .field('author', author)\r\n            .field('description', description)\r\n            .then(res => res.body),\r\n\r\n    download: (file_id) =>\r\n        requests.get(API_ROOT + '/files/download')\r\n            .query({ file_id })\r\n}\r\n\r\nconst Links = {\r\n    upload: (title, author, link, description) =>\r\n        requests.post(API_ROOT + '/links/upload')\r\n            .send({ title, author, link, description })\r\n            .then(res => res.body),\r\n}\r\n\r\nconst Contents = {\r\n    show: () => requests.get(API_ROOT + '/contents/get')\r\n        .then(res => res.body),\r\n}\r\n\r\nexport default {\r\n    Files,\r\n    Links,\r\n    Contents,\r\n}\r\n","import React from 'react'\r\nimport { withStyles, ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, Button } from '@material-ui/core'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport agent from '../../agent'\r\n\r\nconst styles = theme => ({\r\n});\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    contents: state.contents.contents,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onLoad: () => {\r\n        dispatch({ type: 'LOAD_CONTENTS', payload: agent.Contents.show() })\r\n    }\r\n})\r\n\r\nclass Books extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleDownload = this.handleDownload.bind(this);\r\n    }\r\n\r\n    handleDownload(file_id) {\r\n        //console.log(123)\r\n        window.open(`http://47.103.0.246:12580/files/download?file_id=${file_id}`, \"_blank\")\r\n        //agent.Files.download(file_id);\r\n        //console.log(file_id)\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.props.onLoad();\r\n    }\r\n\r\n    render() {\r\n        const { classes, books } = this.props;\r\n        console.log(this.props.contents)\r\n        return (\r\n            <React.Fragment>\r\n                <Link to=\"AddFile\">\r\n                    <Button>添加文件</Button>\r\n                </Link>\r\n                <Link to=\"AddLink\">\r\n                    <Button>添加链接</Button>\r\n                </Link>\r\n\r\n                {this.props.contents.reverse().map(content =>\r\n                    <ExpansionPanel>\r\n                        <ExpansionPanelSummary\r\n                            expandIcon={<ExpandMoreIcon />}\r\n                        >\r\n                            {content.title} &nbsp;\r\n                            {content.author}\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <div>\r\n                            {content.description}\r\n                            <br/>\r\n                                {content.file_id !== \"\" ?\r\n                                    (<Button onClick={() => this.handleDownload(content.file_id)}>下载文件</Button>) :\r\n                                    (<a href={content.link}>{content.link}</a>)}\r\n                            </div>\r\n                        </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n                )}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Books));","import React from 'react'\r\nimport { Paper, withStyles, TextField, Button, Link } from '@material-ui/core'\r\nimport { connect } from 'react-redux';\r\nimport agent from '../agent'\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '82%',\r\n        marginLeft: '9%',\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n    title: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    imageButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    image: {\r\n        width: theme.spacing.unit * 30,\r\n    },\r\n    previewButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '79%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    hidden: {\r\n        display: 'none',\r\n    },\r\n    content: {\r\n        width: '96%',\r\n    },\r\n    preview: {\r\n        width: '96%',\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    saveClass: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    cancel: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: theme.spacing.unit * 2,\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    info: {\r\n        float: 'left',\r\n        marginLeft: '2%',\r\n    },\r\n    intro: {\r\n        marginLeft: '20%',\r\n    }\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n    redirectTo: state.contents.redirectTo,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onSave: () =>\r\n        dispatch({ type: 'OK' }),\r\n    onRedirect: () => dispatch({type: 'REDIRECTED'})\r\n})\r\n\r\n\r\nclass AddLink extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            author: '',\r\n            link: '',\r\n            description: '',\r\n        }\r\n\r\n        this.updateState = this.updateState.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    updateState = field => event => {\r\n        this.setState({\r\n            [field]: event.target.value\r\n        });\r\n    };\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const { title, author, link, description } = this.state;\r\n        await agent.Links.upload(title, author, link, description);\r\n        this.props.onSave();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.redirectTo) {\r\n            this.props.history.push(nextProps.redirectTo);\r\n            this.props.onRedirect();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Paper className={classes.root}>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className={classes.info}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Title'\r\n                                className={classes.title}\r\n                                value={this.state.title}\r\n                                onChange={this.updateState('title')}\r\n                            />\r\n                            <br />\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Author'\r\n                                className={classes.title}\r\n                                value={this.state.author}\r\n                                onChange={this.updateState('author')}\r\n                            />\r\n                            <br />\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Link'\r\n                                className={classes.title}\r\n                                value={this.state.link}\r\n                                onChange={this.updateState('link')}\r\n                            />\r\n                            <br />\r\n                            \r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.saveClass}\r\n                                type=\"submit\"\r\n                            >\r\n                                OK\r\n                            </Button>\r\n                            <Link to = \"/\">\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.cancel}\r\n                            >\r\n                                Cancel\r\n                            </Button>\r\n                            </Link>\r\n                        </div>\r\n                        <div className={classes.intro}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Description'\r\n                                className={classes.content}\r\n                                value={this.state.description}\r\n                                onChange={this.updateState('description')}\r\n                                multiline\r\n                                rows=\"18\"\r\n                            />\r\n                        </div>\r\n                        <br />\r\n                    </form>\r\n                </Paper>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AddLink));","import React from 'react'\r\nimport { Paper, withStyles, TextField, Button } from '@material-ui/core'\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport agent from '../agent'\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '82%',\r\n        marginLeft: '9%',\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n    title: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    imageButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    image: {\r\n        width: theme.spacing.unit * 30,\r\n    },\r\n    previewButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '79%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    hidden: {\r\n        display: 'none',\r\n    },\r\n    content: {\r\n        width: '96%',\r\n    },\r\n    preview: {\r\n        width: '96%',\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    save: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    cancel: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: theme.spacing.unit * 2,\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    info: {\r\n        float: 'left',\r\n        marginLeft: '2%',\r\n    },\r\n    intro: {\r\n        marginLeft: '20%',\r\n    }\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n    redirectTo: state.contents.redirectTo,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onSave: () =>\r\n        dispatch({ type: 'OK' }),\r\n    onRedirect: () => dispatch({type: 'REDIRECTED'})\r\n})\r\n\r\n\r\nclass AddFile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            author: '',\r\n            file: '',\r\n            description: '',\r\n            uploading: false,\r\n        }\r\n\r\n        this.updateState = this.updateState.bind(this);\r\n        this.handleImageChange = this.handleImageChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    updateState = field => event => {\r\n        this.setState({\r\n            [field]: event.target.value\r\n        });\r\n    };\r\n\r\n    handleImageChange(event) {\r\n        this.setState({\r\n            file: event.target.files[0],\r\n        })\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const { title, author, file, description } = this.state;\r\n        this.setState({uploading:true});\r\n        await agent.Files.upload(title, author, file, description);\r\n        this.setState({uploading:false});\r\n        this.props.onSave();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.redirectTo) {\r\n            this.props.history.push(nextProps.redirectTo);\r\n            this.props.onRedirect();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Paper className={classes.root}>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className={classes.info}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Title'\r\n                                className={classes.title}\r\n                                value={this.state.title}\r\n                                onChange={this.updateState('title')}\r\n                            />\r\n                            <br />\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Author'\r\n                                className={classes.title}\r\n                                value={this.state.author}\r\n                                onChange={this.updateState('author')}\r\n                            />\r\n                            <br />\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.imageButton}\r\n                                onClick={() => this.imagePicker.click()}\r\n                            >\r\n                                选择文件\r\n                            </Button>\r\n                            <input\r\n                                type=\"file\"\r\n                                ref={ref => this.imagePicker = ref}\r\n                                onChange={this.handleImageChange}\r\n                                className={classes.hidden}\r\n                            />\r\n                            <br />\r\n                            \r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.save}\r\n                                type=\"submit\"\r\n                                disabled={this.state.uploading}\r\n                            >\r\n                                {this.state.uploading?'上传中...':'上传'}\r\n                            </Button>\r\n                            <Link to = \"/\">\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.cancel}\r\n                            >\r\n                                取消\r\n                            </Button>\r\n                            </Link>\r\n                        </div>\r\n                        <div className={classes.intro}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Description'\r\n                                className={classes.content}\r\n                                value={this.state.description}\r\n                                onChange={this.updateState('description')}\r\n                                multiline\r\n                                rows=\"18\"\r\n                            />\r\n                        </div>\r\n                        <br />\r\n                    </form>\r\n                </Paper>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AddFile));","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport Home from './Components/Home/index'\r\nimport AddLink from './Components/AddLink'\r\nimport AddFile from './Components/AddFile'\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <BrowserRouter>\r\n          <div style={{ minHeight: 445 }}>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route exact path=\"/AddFile\" component={AddFile} />\r\n            <Route exact path=\"/AddLink\" component={AddLink} />\r\n          </div>\r\n        </BrowserRouter>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","function isPromise(v) {\r\n    return v && typeof v.then === 'function';\r\n}\r\n\r\nconst promiseMiddleware = store => next => action => {\r\n    console.log(\"---action.payload---\")\r\n    console.log(action)\r\n    if (isPromise(action.payload)) {\r\n        store.dispatch({ type: 'ASYNC_START' })\r\n        console.log(\"---payload----\")\r\n        console.log(action.payload)\r\n        action.payload.then(\r\n            res => {\r\n                action.payload = res;  //Critical Step: convert action.payload from Promise to Object!\r\n                store.dispatch(action);\r\n            }\r\n        );\r\n        return;\r\n    }\r\n    next(action);\r\n};\r\n\r\nexport default promiseMiddleware;\r\n\r\n","const defaultState = {\r\n    contents: [],\r\n    redirectTo: null,\r\n}\r\n\r\nconst contents = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case 'LOAD_CONTENTS':\r\n            return {\r\n                ...state,\r\n                contents: action.payload.contents,\r\n            }\r\n        case 'OK':\r\n            return {\r\n                ...state,\r\n                redirectTo: '/'\r\n            }\r\n        case 'REDIRECTED':\r\n            return {\r\n                ...state,\r\n                redirectTo: null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default contents;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport promiseMiddleware from './middleware';\r\nimport contents from './reducers/contents'\r\n\r\nconst reducer = combineReducers({\r\n    contents\r\n});\r\n\r\nconst enhancer = applyMiddleware(promiseMiddleware)\r\n\r\nconst store = createStore(reducer, {}, enhancer);\r\n\r\nexport default store;","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport { purple, lime, lightGreen, red } from '@material-ui/core/colors';\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            light: purple[100],\r\n            main: purple[200],\r\n            dark: purple[300],\r\n        },\r\n        secondary: {\r\n            main: lime['A400'],\r\n            dark: lightGreen['A700'],\r\n        },\r\n        error: {\r\n            main: red[500],\r\n        }\r\n    },\r\n    typography: {\r\n        fontFamily: \"Roboto\",\r\n    },\r\n});\r\n\r\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './store'\nimport theme from './theme'\nimport { Provider } from 'react-redux'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\n\nReactDOM.render(\n  <Provider store={store}>\n    <MuiThemeProvider theme={theme}>\n      <App />\n    </MuiThemeProvider>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}