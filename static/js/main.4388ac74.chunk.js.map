{"version":3,"sources":["agent.js","Components/Home/index.js","Components/AddLink.js","Components/AddFile.js","App.js","middleware.js","reducers/contents.js","store.js","theme.js","index.js"],"names":["requests","require","API_ROOT","agent","Files","upload","title","author","file","description","post","attach","field","then","res","body","download","file_id","get","query","Links","link","send","Contents","show","Books","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleDownload","bind","assertThisInitialized","console","log","window","open","concat","onLoad","_this2","_this$props","classes","books","contents","react_default","a","createElement","Fragment","Link","to","index_es","map","content","expandIcon","ExpandMore_default","onClick","href","React","Component","connect","state","dispatch","type","payload","withStyles","theme","AddLink","updateState","event","setState","defineProperty","target","value","handleImageChange","handleSubmit","preventDefault","create","onSave","nextProps","redirectTo","history","push","onRedirect","className","root","onSubmit","info","label","onChange","variant","save","cancel","intro","multiline","rows","width","marginLeft","marginTop","spacing","unit","imageButton","backgroundColor","palette","primary","light","image","previewButton","hidden","display","preview","marginBottom","float","AddFile","files","imagePicker","click","ref","App","BrowserRouter","style","minHeight","Route","exact","path","component","Home","promiseMiddleware","store","next","action","v","defaultState","arguments","length","undefined","objectSpread","reducer","combineReducers","enhancer","applyMiddleware","createStore","createMuiTheme","purple","main","dark","secondary","lime","lightGreen","error","red","typography","fontFamily","ReactDOM","render","es","styles","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4388ac74.chunk.js","sourcesContent":["const requests = require('superagent');\r\n\r\nconst API_ROOT = 'http://47.103.0.246:12580';\r\n\r\nconst Files = {\r\n    upload: (title, author, file, description) =>\r\n        requests.post(API_ROOT + '/files/upload')\r\n            .attach('file', file)\r\n            .field('title', title)\r\n            .field('author', author)\r\n            .field('description', description)\r\n            .then(res => res.body),\r\n\r\n    download: (file_id) =>\r\n        requests.get(API_ROOT + '/files/download')\r\n            .query({ file_id })\r\n}\r\n\r\nconst Links = {\r\n    upload: (title, author, link, description) =>\r\n        requests.post(API_ROOT + '/files/upload')\r\n            .send({ title, author, link, description })\r\n            .then(res => res.body),\r\n}\r\n\r\nconst Contents = {\r\n    show: () => requests.get(API_ROOT + '/contents/get')\r\n        .then(res => res.body),\r\n}\r\n\r\nexport default {\r\n    Files,\r\n    Links,\r\n    Contents,\r\n}\r\n","import React from 'react'\r\nimport { withStyles, ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, Button } from '@material-ui/core'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport agent from '../../agent'\r\n\r\nconst styles = theme => ({\r\n});\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    contents: state.contents.contents,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onLoad: () => {\r\n        dispatch({ type: 'LOAD_CONTENTS', payload: agent.Contents.show() })\r\n    }\r\n})\r\n\r\nclass Books extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleDownload = this.handleDownload.bind(this);\r\n    }\r\n\r\n    handleDownload(file_id) {\r\n        console.log(123)\r\n        window.open(`http://47.103.0.246:12580/files/download?file_id=${file_id}`, \"_blank\")\r\n        agent.Files.download(file_id);\r\n        console.log(file_id)\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.props.onLoad();\r\n    }\r\n\r\n    render() {\r\n        const { classes, books } = this.props;\r\n        console.log(this.props.contents)\r\n        return (\r\n            <React.Fragment>\r\n                <Link to=\"AddFile\">\r\n                    <Button>Add File</Button>\r\n                </Link>\r\n                <Link to=\"AddLink\">\r\n                    <Button>Add Link</Button>\r\n                </Link>\r\n\r\n                {this.props.contents.map(content =>\r\n                    <ExpansionPanel>\r\n                        <ExpansionPanelSummary\r\n                            expandIcon={<ExpandMoreIcon />}\r\n                        >\r\n                            {content.title} &nbsp;\r\n                            {content.author}\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            {content.file_id !== \"\" ?\r\n                                (<Button onClick={() => this.handleDownload(content.file_id)}>download</Button>) :\r\n                                (<a href={content.link}>{content.link}</a>)}\r\n                            <br />\r\n                            {content.description}\r\n                        </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n                )}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Books));","import React from 'react'\r\nimport { Paper, withStyles, TextField, Button, Link } from '@material-ui/core'\r\nimport { connect } from 'react-redux';\r\nimport agent from '../agent'\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '82%',\r\n        marginLeft: '9%',\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n    title: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    imageButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    image: {\r\n        width: theme.spacing.unit * 30,\r\n    },\r\n    previewButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '79%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    hidden: {\r\n        display: 'none',\r\n    },\r\n    content: {\r\n        width: '96%',\r\n    },\r\n    preview: {\r\n        width: '96%',\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    save: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    cancel: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: theme.spacing.unit * 2,\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    info: {\r\n        float: 'left',\r\n        marginLeft: '2%',\r\n    },\r\n    intro: {\r\n        marginLeft: '20%',\r\n    }\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n    redirectTo: state.contents.redirectTo,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onSave: () =>\r\n        dispatch({ type: 'OK' }),\r\n})\r\n\r\n\r\nclass AddLink extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            author: '',\r\n            link: '',\r\n            description: '',\r\n        }\r\n\r\n        this.updateState = this.updateState.bind(this);\r\n        this.handleImageChange = this.handleImageChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    updateState = field => event => {\r\n        this.setState({\r\n            [field]: event.target.value\r\n        });\r\n    };\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const { title, author, link, description } = this.state;\r\n        \r\n            await agent.Contents.create(title, author, link, description)\r\n            this.props.onSave();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.redirectTo) {\r\n            this.props.history.push(nextProps.redirectTo);\r\n            this.props.onRedirect();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Paper className={classes.root}>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className={classes.info}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Book Title'\r\n                                className={classes.title}\r\n                                value={this.state.title}\r\n                                onChange={this.updateState('title')}\r\n                            />\r\n                            <br />\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Author'\r\n                                className={classes.title}\r\n                                value={this.state.author}\r\n                                onChange={this.updateState('author')}\r\n                            />\r\n                            <br />\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Link'\r\n                                className={classes.title}\r\n                                value={this.state.link}\r\n                                onChange={this.updateState('link')}\r\n                            />\r\n                            <br />\r\n                            \r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.save}\r\n                                type=\"submit\"\r\n                            >\r\n                                OK\r\n                            </Button>\r\n                            <Link to = \"/\">\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.cancel}\r\n                            >\r\n                                Cancel\r\n                            </Button>\r\n                            </Link>\r\n                        </div>\r\n                        <div className={classes.intro}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Description'\r\n                                className={classes.content}\r\n                                value={this.state.description}\r\n                                onChange={this.updateState('description')}\r\n                                multiline\r\n                                rows=\"18\"\r\n                            />\r\n                        </div>\r\n                        <br />\r\n                    </form>\r\n                </Paper>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AddLink));","import React from 'react'\r\nimport { Paper, withStyles, TextField, Button } from '@material-ui/core'\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport agent from '../agent'\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '82%',\r\n        marginLeft: '9%',\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n    title: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    imageButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    image: {\r\n        width: theme.spacing.unit * 30,\r\n    },\r\n    previewButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '79%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    hidden: {\r\n        display: 'none',\r\n    },\r\n    content: {\r\n        width: '96%',\r\n    },\r\n    preview: {\r\n        width: '96%',\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    save: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    cancel: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: theme.spacing.unit * 2,\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    info: {\r\n        float: 'left',\r\n        marginLeft: '2%',\r\n    },\r\n    intro: {\r\n        marginLeft: '20%',\r\n    }\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n    redirectTo: state.contents.redirectTo,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onSave: () =>\r\n        dispatch({ type: 'OK' }),\r\n})\r\n\r\n\r\nclass AddFile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            author: '',\r\n            file: '',\r\n            description: '',\r\n        }\r\n\r\n        this.updateState = this.updateState.bind(this);\r\n        this.handleImageChange = this.handleImageChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    updateState = field => event => {\r\n        this.setState({\r\n            [field]: event.target.value\r\n        });\r\n    };\r\n\r\n    handleImageChange(event) {\r\n        this.setState({\r\n            file: event.target.files[0],\r\n        })\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const { title, author, file, description } = this.state;\r\n        \r\n            await agent.Files.upload(title, author, file, description)\r\n            this.props.onSave();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.redirectTo) {\r\n            this.props.history.push(nextProps.redirectTo);\r\n            this.props.onRedirect();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Paper className={classes.root}>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className={classes.info}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Book Title'\r\n                                className={classes.title}\r\n                                value={this.state.title}\r\n                                onChange={this.updateState('title')}\r\n                            />\r\n                            <br />\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Author'\r\n                                className={classes.title}\r\n                                value={this.state.author}\r\n                                onChange={this.updateState('author')}\r\n                            />\r\n                            <br />\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.imageButton}\r\n                                onClick={() => this.imagePicker.click()}\r\n                            >\r\n                                Pick File\r\n                            </Button>\r\n                            <input\r\n                                type=\"file\"\r\n                                ref={ref => this.imagePicker = ref}\r\n                                onChange={this.handleImageChange}\r\n                                className={classes.hidden}\r\n                            />\r\n                            <br />\r\n                            \r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.save}\r\n                                type=\"submit\"\r\n                            >\r\n                                OK\r\n                            </Button>\r\n                            <Link to = \"/\">\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.cancel}\r\n                            >\r\n                                Cancel\r\n                            </Button>\r\n                            </Link>\r\n                        </div>\r\n                        <div className={classes.intro}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Description'\r\n                                className={classes.content}\r\n                                value={this.state.description}\r\n                                onChange={this.updateState('description')}\r\n                                multiline\r\n                                rows=\"18\"\r\n                            />\r\n                        </div>\r\n                        <br />\r\n                    </form>\r\n                </Paper>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AddFile));","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport Home from './Components/Home/index'\r\nimport AddLink from './Components/AddLink'\r\nimport AddFile from './Components/AddFile'\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <BrowserRouter>\r\n          <div style={{ minHeight: 445 }}>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route exact path=\"/AddFile\" component={AddFile} />\r\n            <Route exact path=\"/AddLink\" component={AddLink} />\r\n          </div>\r\n        </BrowserRouter>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","function isPromise(v) {\r\n    return v && typeof v.then === 'function';\r\n}\r\n\r\nconst promiseMiddleware = store => next => action => {\r\n    console.log(\"---action.payload---\")\r\n    console.log(action)\r\n    if (isPromise(action.payload)) {\r\n        store.dispatch({ type: 'ASYNC_START' })\r\n        console.log(\"---payload----\")\r\n        console.log(action.payload)\r\n        action.payload.then(\r\n            res => {\r\n                action.payload = res;  //Critical Step: convert action.payload from Promise to Object!\r\n                store.dispatch(action);\r\n            }\r\n        );\r\n        return;\r\n    }\r\n    next(action);\r\n};\r\n\r\nexport default promiseMiddleware;\r\n\r\n","const defaultState = {\r\n    contents: [],\r\n    redirectTo: null,\r\n}\r\n\r\nconst contents = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case 'LOAD_CONTENTS':\r\n            return {\r\n                ...state,\r\n                contents: action.payload.contents,\r\n            }\r\n        case 'OK':\r\n            return {\r\n                ...state,\r\n                redirectTo: '/'\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default contents;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport promiseMiddleware from './middleware';\r\nimport contents from './reducers/contents'\r\n\r\nconst reducer = combineReducers({\r\n    contents\r\n});\r\n\r\nconst enhancer = applyMiddleware(promiseMiddleware)\r\n\r\nconst store = createStore(reducer, {}, enhancer);\r\n\r\nexport default store;","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport { purple, lime, lightGreen, red } from '@material-ui/core/colors';\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            light: purple[100],\r\n            main: purple[200],\r\n            dark: purple[300],\r\n        },\r\n        secondary: {\r\n            main: lime['A400'],\r\n            dark: lightGreen['A700'],\r\n        },\r\n        error: {\r\n            main: red[500],\r\n        }\r\n    },\r\n    typography: {\r\n        fontFamily: \"Roboto\",\r\n    },\r\n});\r\n\r\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './store'\nimport theme from './theme'\nimport { Provider } from 'react-redux'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\n\nReactDOM.render(\n  <Provider store={store}>\n    <MuiThemeProvider theme={theme}>\n      <App />\n    </MuiThemeProvider>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}