{"version":3,"sources":["agent.js","Components/Home/index.js","Components/AddLink.js","Components/AddFile.js","App.js","middleware.js","reducers/contents.js","store.js","theme.js","index.js"],"names":["requests","require","API_ROOT","agent","upload","title","author","file","description","post","attach","field","then","res","body","download","file_id","get","query","link","send","show","Books","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","keyWord","handleDownload","bind","assertThisInitialized","window","open","concat","onLoad","content","indexOf","_this2","_this$props","classes","books","console","log","contents","react_default","a","createElement","Fragment","Link","to","index_es","className","search","InputBase_default","placeholder","root","inputRoot","input","inputInput","value","onChange","e","setState","target","reverse","map","contentFilter","expandIcon","ExpandMore_default","onClick","href","React","Component","connect","dispatch","type","payload","withStyles","theme","defineProperty","paddingTop","spacing","unit","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","width","breakpoints","up","color","display","position","borderRadius","shape","backgroundColor","fade","palette","common","white","&:hover","marginRight","float","down","AddLink","updateState","event","handleSubmit","preventDefault","onSave","nextProps","redirectTo","history","push","onRedirect","onSubmit","info","label","variant","saveClass","cancel","intro","multiline","rows","marginLeft","marginTop","imageButton","primary","light","image","previewButton","hidden","preview","marginBottom","AddFile","uploading","handleImageChange","files","imagePicker","click","ref","save","disabled","App","BrowserRouter","style","minHeight","Route","exact","path","component","Home","promiseMiddleware","store","next","action","v","defaultState","arguments","length","undefined","objectSpread","reducer","combineReducers","enhancer","applyMiddleware","createStore","createMuiTheme","purple","main","dark","secondary","lime","lightGreen","error","red","typography","fontFamily","ReactDOM","render","es","core_styles","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3cd1be4d.chunk.js","sourcesContent":["const requests = require('superagent');\r\n\r\nconst API_ROOT = 'http://47.103.0.246:12580';\r\n\r\nconst Files = {\r\n    upload: (title, author, file, description) =>\r\n        requests.post(API_ROOT + '/files/upload')\r\n            .attach('file', file)\r\n            .field('title', title)\r\n            .field('author', author)\r\n            .field('description', description)\r\n            .then(res => res.body),\r\n\r\n    download: (file_id) =>\r\n        requests.get(API_ROOT + '/files/download')\r\n            .query({ file_id })\r\n}\r\n\r\nconst Links = {\r\n    upload: (title, author, link, description) =>\r\n        requests.post(API_ROOT + '/links/upload')\r\n            .send({ title, author, link, description })\r\n            .then(res => res.body),\r\n}\r\n\r\nconst Contents = {\r\n    show: () => requests.get(API_ROOT + '/contents/get')\r\n        .then(res => res.body),\r\n}\r\n\r\nexport default {\r\n    Files,\r\n    Links,\r\n    Contents,\r\n}\r\n","import React from 'react'\r\nimport { withStyles, ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails, Button } from '@material-ui/core'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport { Link } from 'react-router-dom';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport { connect } from 'react-redux';\r\nimport agent from '../../agent'\r\n\r\nconst styles = theme => ({\r\n    inputInput: {\r\n        paddingTop: theme.spacing.unit,\r\n        paddingRight: theme.spacing.unit,\r\n        paddingBottom: theme.spacing.unit,\r\n        paddingLeft: theme.spacing.unit * 10,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n\r\n        [theme.breakpoints.up('md')]: {\r\n            width: 200,\r\n        },\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n        width: '100%',\r\n        display:'inline-block'\r\n\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n\r\n        backgroundColor: fade(theme.palette.common.white, 0.35),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.55),\r\n        },\r\n        marginRight: theme.spacing.unit * 2,\r\n        float: 'right',\r\n        width: '400px',\r\n        [theme.breakpoints.down('md')]: {\r\n            width: 'auto',\r\n        },\r\n    },\r\n});\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    contents: state.contents.contents,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onLoad: () => {\r\n        dispatch({ type: 'LOAD_CONTENTS', payload: agent.Contents.show() })\r\n    }\r\n})\r\n\r\nclass Books extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {keyWord:''};\r\n        this.handleDownload = this.handleDownload.bind(this);\r\n    }\r\n\r\n    handleDownload(file_id) {\r\n        //console.log(123)\r\n        window.open(`http://47.103.0.246:12580/files/download?file_id=${file_id}`, \"_blank\")\r\n        //agent.Files.download(file_id);\r\n        //console.log(file_id)\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.props.onLoad();\r\n    }\r\n\r\n    contentFilter(content, keyWord) {\r\n        if (content.author.indexOf(keyWord) !== -1\r\n            || content.title.indexOf(keyWord) !== -1\r\n            || content.link.indexOf(keyWord) !== -1\r\n            || content.description.indexOf(keyWord) !== -1\r\n        )\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    render() {\r\n        const { classes, books } = this.props;\r\n        console.log(this.props.contents)\r\n        return (\r\n            <React.Fragment>\r\n                <Link to=\"AddFile\">\r\n                    <Button>添加文件</Button>\r\n                </Link>\r\n                <Link to=\"AddLink\">\r\n                    <Button>添加链接</Button>\r\n                </Link>\r\n                <div className={classes.search}>\r\n                    <InputBase\r\n                        placeholder={\"输入关键字查找...\"}\r\n                        classes={{\r\n                            root: classes.inputRoot,\r\n                            input: classes.inputInput,\r\n                        }}\r\n                        value={this.state.keyWord}\r\n                        onChange={e => this.setState({keyWord:e.target.value})}/>\r\n                </div>\r\n\r\n                {this.props.contents.reverse().map(content =>\r\n                    this.contentFilter(content, this.state.keyWord)?\r\n                    <ExpansionPanel>\r\n                        <ExpansionPanelSummary\r\n                            expandIcon={<ExpandMoreIcon />}\r\n                        >\r\n                            {content.title} &nbsp;\r\n                            {content.author}\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <div>\r\n                            {content.description}\r\n                            <br/>\r\n                                {content.file_id !== \"\" ?\r\n                                    (<Button onClick={() => this.handleDownload(content.file_id)}>下载文件</Button>) :\r\n                                    (<a href={content.link}>{content.link}</a>)}\r\n                            </div>\r\n                        </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n                        :null\r\n                )}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Books));","import React from 'react'\r\nimport { Paper, withStyles, TextField, Button, Link } from '@material-ui/core'\r\nimport { connect } from 'react-redux';\r\nimport agent from '../agent'\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '82%',\r\n        marginLeft: '9%',\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n    title: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    imageButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    image: {\r\n        width: theme.spacing.unit * 30,\r\n    },\r\n    previewButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '79%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    hidden: {\r\n        display: 'none',\r\n    },\r\n    content: {\r\n        width: '96%',\r\n    },\r\n    preview: {\r\n        width: '96%',\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    saveClass: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    cancel: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: theme.spacing.unit * 2,\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    info: {\r\n        float: 'left',\r\n        marginLeft: '2%',\r\n    },\r\n    intro: {\r\n        marginLeft: '20%',\r\n    }\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n    redirectTo: state.contents.redirectTo,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onSave: () =>\r\n        dispatch({ type: 'OK' }),\r\n    onRedirect: () => dispatch({type: 'REDIRECTED'})\r\n})\r\n\r\n\r\nclass AddLink extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            author: '',\r\n            link: '',\r\n            description: '',\r\n        }\r\n\r\n        this.updateState = this.updateState.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    updateState = field => event => {\r\n        this.setState({\r\n            [field]: event.target.value\r\n        });\r\n    };\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const { title, author, link, description } = this.state;\r\n        await agent.Links.upload(title, author, link, description);\r\n        this.props.onSave();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.redirectTo) {\r\n            this.props.history.push(nextProps.redirectTo);\r\n            this.props.onRedirect();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Paper className={classes.root}>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className={classes.info}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Title'\r\n                                className={classes.title}\r\n                                value={this.state.title}\r\n                                onChange={this.updateState('title')}\r\n                            />\r\n                            <br />\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Author'\r\n                                className={classes.title}\r\n                                value={this.state.author}\r\n                                onChange={this.updateState('author')}\r\n                            />\r\n                            <br />\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Link'\r\n                                className={classes.title}\r\n                                value={this.state.link}\r\n                                onChange={this.updateState('link')}\r\n                            />\r\n                            <br />\r\n                            \r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.saveClass}\r\n                                type=\"submit\"\r\n                            >\r\n                                OK\r\n                            </Button>\r\n                            <Link to = \"/\">\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.cancel}\r\n                            >\r\n                                Cancel\r\n                            </Button>\r\n                            </Link>\r\n                        </div>\r\n                        <div className={classes.intro}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Description'\r\n                                className={classes.content}\r\n                                value={this.state.description}\r\n                                onChange={this.updateState('description')}\r\n                                multiline\r\n                                rows=\"18\"\r\n                            />\r\n                        </div>\r\n                        <br />\r\n                    </form>\r\n                </Paper>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AddLink));","import React from 'react'\r\nimport { Paper, withStyles, TextField, Button } from '@material-ui/core'\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport agent from '../agent'\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        width: '82%',\r\n        marginLeft: '9%',\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n    title: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    imageButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    image: {\r\n        width: theme.spacing.unit * 30,\r\n    },\r\n    previewButton: {\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '79%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    hidden: {\r\n        display: 'none',\r\n    },\r\n    content: {\r\n        width: '96%',\r\n    },\r\n    preview: {\r\n        width: '96%',\r\n        marginTop: theme.spacing.unit,\r\n        marginLeft: '2%',\r\n    },\r\n    save: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: '2%',\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    cancel: {\r\n        marginTop: theme.spacing.unit,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        marginLeft: theme.spacing.unit * 2,\r\n        backgroundColor: theme.palette.primary.light,\r\n    },\r\n    info: {\r\n        float: 'left',\r\n        marginLeft: '2%',\r\n    },\r\n    intro: {\r\n        marginLeft: '20%',\r\n    }\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n    redirectTo: state.contents.redirectTo,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onSave: () =>\r\n        dispatch({ type: 'OK' }),\r\n    onRedirect: () => dispatch({type: 'REDIRECTED'})\r\n})\r\n\r\n\r\nclass AddFile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            author: '',\r\n            file: '',\r\n            description: '',\r\n            uploading: false,\r\n        }\r\n\r\n        this.updateState = this.updateState.bind(this);\r\n        this.handleImageChange = this.handleImageChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    updateState = field => event => {\r\n        this.setState({\r\n            [field]: event.target.value\r\n        });\r\n    };\r\n\r\n    handleImageChange(event) {\r\n        this.setState({\r\n            file: event.target.files[0],\r\n        })\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const { title, author, file, description } = this.state;\r\n        this.setState({uploading:true});\r\n        await agent.Files.upload(title, author, file, description);\r\n        this.setState({uploading:false});\r\n        this.props.onSave();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.redirectTo) {\r\n            this.props.history.push(nextProps.redirectTo);\r\n            this.props.onRedirect();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Paper className={classes.root}>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className={classes.info}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Title'\r\n                                className={classes.title}\r\n                                value={this.state.title}\r\n                                onChange={this.updateState('title')}\r\n                            />\r\n                            <br />\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Author'\r\n                                className={classes.title}\r\n                                value={this.state.author}\r\n                                onChange={this.updateState('author')}\r\n                            />\r\n                            <br />\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.imageButton}\r\n                                onClick={() => this.imagePicker.click()}\r\n                            >\r\n                                选择文件\r\n                            </Button>\r\n                            <input\r\n                                type=\"file\"\r\n                                ref={ref => this.imagePicker = ref}\r\n                                onChange={this.handleImageChange}\r\n                                className={classes.hidden}\r\n                            />\r\n                            <br />\r\n                            \r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.save}\r\n                                type=\"submit\"\r\n                                disabled={this.state.uploading}\r\n                            >\r\n                                {this.state.uploading?'上传中...':'上传'}\r\n                            </Button>\r\n                            <Link to = \"/\">\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className={classes.cancel}\r\n                            >\r\n                                取消\r\n                            </Button>\r\n                            </Link>\r\n                        </div>\r\n                        <div className={classes.intro}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                label='Description'\r\n                                className={classes.content}\r\n                                value={this.state.description}\r\n                                onChange={this.updateState('description')}\r\n                                multiline\r\n                                rows=\"18\"\r\n                            />\r\n                        </div>\r\n                        <br />\r\n                    </form>\r\n                </Paper>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AddFile));","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport Home from './Components/Home/index'\r\nimport AddLink from './Components/AddLink'\r\nimport AddFile from './Components/AddFile'\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <BrowserRouter>\r\n          <div style={{ minHeight: 445 }}>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route exact path=\"/AddFile\" component={AddFile} />\r\n            <Route exact path=\"/AddLink\" component={AddLink} />\r\n          </div>\r\n        </BrowserRouter>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","function isPromise(v) {\r\n    return v && typeof v.then === 'function';\r\n}\r\n\r\nconst promiseMiddleware = store => next => action => {\r\n    console.log(\"---action.payload---\")\r\n    console.log(action)\r\n    if (isPromise(action.payload)) {\r\n        store.dispatch({ type: 'ASYNC_START' })\r\n        console.log(\"---payload----\")\r\n        console.log(action.payload)\r\n        action.payload.then(\r\n            res => {\r\n                action.payload = res;  //Critical Step: convert action.payload from Promise to Object!\r\n                store.dispatch(action);\r\n            }\r\n        );\r\n        return;\r\n    }\r\n    next(action);\r\n};\r\n\r\nexport default promiseMiddleware;\r\n\r\n","const defaultState = {\r\n    contents: [],\r\n    redirectTo: null,\r\n}\r\n\r\nconst contents = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case 'LOAD_CONTENTS':\r\n            return {\r\n                ...state,\r\n                contents: action.payload.contents,\r\n            }\r\n        case 'OK':\r\n            return {\r\n                ...state,\r\n                redirectTo: '/'\r\n            }\r\n        case 'REDIRECTED':\r\n            return {\r\n                ...state,\r\n                redirectTo: null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default contents;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport promiseMiddleware from './middleware';\r\nimport contents from './reducers/contents'\r\n\r\nconst reducer = combineReducers({\r\n    contents\r\n});\r\n\r\nconst enhancer = applyMiddleware(promiseMiddleware)\r\n\r\nconst store = createStore(reducer, {}, enhancer);\r\n\r\nexport default store;","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport { purple, lime, lightGreen, red } from '@material-ui/core/colors';\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            light: purple[100],\r\n            main: purple[200],\r\n            dark: purple[300],\r\n        },\r\n        secondary: {\r\n            main: lime['A400'],\r\n            dark: lightGreen['A700'],\r\n        },\r\n        error: {\r\n            main: red[500],\r\n        }\r\n    },\r\n    typography: {\r\n        fontFamily: \"Roboto\",\r\n    },\r\n});\r\n\r\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './store'\nimport theme from './theme'\nimport { Provider } from 'react-redux'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\n\nReactDOM.render(\n  <Provider store={store}>\n    <MuiThemeProvider theme={theme}>\n      <App />\n    </MuiThemeProvider>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}